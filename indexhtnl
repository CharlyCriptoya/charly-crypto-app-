<script>
  async function cargarExchanges() {
    try {
      const res = await fetch("/api/exchanges");
      const data = await res.json();
      const table = document.getElementById("tabla-exchanges");
      table.innerHTML = "";
      Object.keys(data).forEach(ex => {
        const row = `
          <tr>
            <td>${ex}</td>
            <td>BTC/USDT</td>
            <td>${data[ex].ask}</td>
            <td>${data[ex].bid}</td>
          </tr>
        `;
        table.innerHTML += row;
      });
    } catch (err) {
      console.error("Error cargando exchanges", err);
    }
  }
  setInterval(cargarExchanges, 15000);
  cargarExchanges();
</script>
